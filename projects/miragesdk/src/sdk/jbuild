(jbuild_version 1)

(library
 ((name sdk)
  (public_name sdk)
  (flags (:standard -w -53-55))
  (libraries (cstruct-lwt irmin irmin-mem lwt.unix rawlink
              tuntap astring rresult mirage-flow-lwt mirage-net-flow
              mirage-time-lwt mirage-flow-rawlink capnp capnp-rpc-lwt))))

(rule
  ((targets (proto.ml proto.mli))
   (deps (proto.capnp))
   (action (run capnp compile -o ocaml ${<}))))
